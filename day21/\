import sys
from functools import reduce

with open('input') as f:
    raw_rows = f.readlines()

rows = []
for row in raw_rows:
    rows.append(row.strip())

possible_ingredients = []
possible_alergins = []
foods = []

for row in rows:
    ingredients, alergins = row.split('(')
    if alergins[:9] != "contains ":
        print("misformed alergin list?")
        sys.exit()
    alergins = alergins[9:].strip(')').split(', ')
    ingredients = ingredients.strip().split(' ')
    for ing in ingredients:
        if ing not in possible_ingredients:
            possible_ingredients.append(ing)
    for aler in alergins:
        if aler not in possible_alergins:
            possible_alergins.append(aler)
    foods.append([ingredients, alergins])

print(possible_ingredients)
print(possible_alergins)

alergin_to_possible_ingredients = []
